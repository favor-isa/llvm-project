#ifndef LLVM_LIB_TARGET_FAVOR_FAVORSUBTARGET_H
#define LLVM_LIB_TARGET_FAVOR_FAVORSUBTARGET_H

#include "FavorFrameLowering.h"
#include "FavorISelLowering.h"
#include "FavorInstrInfo.h"
#include "FavorRegisterInfo.h"
#include "llvm/CodeGen/SelectionDAGTargetInfo.h"
#include "llvm/CodeGen/TargetSubtargetInfo.h"
#include "llvm/IR/DataLayout.h"

#define GET_SUBTARGETINFO_HEADER
#include "FavorGenSubtargetInfo.inc"

namespace llvm {
class FavorSubtarget : public FavorGenSubtargetInfo {
protected:
    SelectionDAGTargetInfo TSInfo;
    FavorInstrInfo InstrInfo;
    FavorFrameLowering FrameLowering;
    FavorTargetLowering TLInfo;
    FavorRegisterInfo RegInfo;
public:
    FavorSubtarget(const Triple &TT, StringRef CPU, StringRef FS,
                const TargetMachine &TM)
        : FavorGenSubtargetInfo(TT, CPU, CPU, FS), InstrInfo(*this),
        FrameLowering(*this, Align(8)), TLInfo(TM, *this) {}

    const FavorRegisterInfo *getRegisterInfo() const override { return &RegInfo; }

    const FavorInstrInfo *getInstrInfo() const override { return &InstrInfo; }

    const FavorFrameLowering *getFrameLowering() const override {
        return &FrameLowering;
    }

    const FavorTargetLowering *getTargetLowering() const override {
        return &TLInfo;
    }

    const SelectionDAGTargetInfo *getSelectionDAGInfo() const override {
        return &TSInfo;
    }
    /// ParseSubtargetFeatures - Parses features string setting specified
    /// subtarget options.  Definition of function is auto generated by tblgen.
    void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS);
};
}

#endif